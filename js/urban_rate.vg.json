{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/rizlanhkm/FIT3179_a2/refs/heads/main/csv_data/malaysia_urbanization_rate.csv"
    },
    "hconcat": 
    [
      {
        "width": 300,
        "height": 300,
        "mark": {"type": "arc", "innerRadius": 100},
        "encoding": 
        {
          "theta": {"field": "value", "type": "quantitative"},
          "color": {"field": "category", "type": "nominal"}
        }
      },
      {
        "width": 300,
        "height": 300,
        "mark": {"type": "line"},
        "encoding": 
        {
          "x": {"field": "Year", "type": "temporal"},
          "y": {"field": "Change from previous year", "type": "quantitative"}
        }
      }
    ],
    "params": 
      [
          {
              "name": "Current_Year",
              "value": 2021,
              "bind":
              {
                  "input": "range",
                  "min": 1970,
                  "max": 2021,
                  "step": 1,
                  "name": "Current Year"
              }
          }
      ],
    "transform": 
    [
      {"filter": "year(datum.Year) == Current_Year"},
      {
        "fold": ["Percentage of Total Urban", "Percentage of Non-urban"],
        "as": ["category", "value"]
      }
    ]
  }
  